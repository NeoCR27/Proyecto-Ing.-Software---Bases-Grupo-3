@{
    ViewBag.Title = "Requerimiento";
}
@{

    List<ProyectoPI.Models.getLiderReq> total = ViewBag.getLiderReq;
    List<ProyectoPI.Models.getLiderReqDificultad> baja = ViewBag.getBaja;
    List<ProyectoPI.Models.getLiderReqDificultad> intermedia = ViewBag.getIntermedia;
    List<ProyectoPI.Models.getLiderReqDificultad> alta = ViewBag.getAlta;


}
<h2 class="titulosPag">Desempeño de los lideres</h2>



<img src="@Url.Action("GraficoLideresReq",new { })" alt="Pie Chart using MVC" />
</br>
</br>

<div style=" right:3000px;width:600px ;height:auto" class="jumbotron">
    <p style="text-align:center" display-1">Resultados</p>
    <p style="font-size:15px">
    </p>


    <table class="table">
        <thead class="thead-dark">
            <tr>

                <th scope="col">Nombre Lider</th>
                <th scope="col">Dificultad baja</th>
                <th scope="col">Dificultad intermedia</th>
                <th scope="col">Dificultad alta</th>
                <th scope="col">Requerimientos totales</th>






            </tr>
        </thead>
        <tbody>

            @foreach (var item in total)
            {
                <tr>

                    <td>@item.nombre</td>


                    @{
                        int hasBaja = 0;
                        int hasIntermedia = 0;
                        int hasAlta = 0;
                        int totalReq = 0;
                    }

                    @foreach (var reqB in baja)
                    {
                        if (item.cedula == reqB.cedula)
                        {
                            <td>@reqB.req</td>
                            totalReq += @reqB.req;
                            hasBaja = 1;
                            break;
                        }

                    }
                    @if (hasBaja == 0)
                    {
                        <td>0</td>
                    }

                    @foreach (var reqI in intermedia)
                    {
                        if (@item.cedula == @reqI.cedula)
                        {
                            <td>@reqI.req</td>
                            totalReq += reqI.req;
                            hasIntermedia = 1;
                            break;
                        }

                    }
                    @if (hasIntermedia == 0)
                    {
                        <td>0</td>
                    }

                    @foreach (var reqA in alta)
                    {
                        if (@item.cedula == @reqA.cedula)
                        {
                            <td>@reqA.req</td>
                            totalReq += reqA.req;

                            hasAlta = 1;
                            break;
                        }

                    }

                    @if (hasAlta == 0)
                    {
                        <td>0</td>
                    }
                <td>@item.totales</td>


                </tr>
            }
        </tbody>
    </table>
</div>




<div>
    @Html.ActionLink("Volver", "index", null, new { @class = "botonGeneral colorGris" })
</div>







